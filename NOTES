pb10
 - add better fxo detection
 - fix caller id, and number readback on unreachable extensions
 - fix extensions_exists
 - fix diaplan_providers.php to save posted config and display correctly when no providers are present
 - complete is_valid_xxx() checks
 - normalize all single var irregularities, maybe even write a cleanup when upgrading to config.xml 1.2
 - console display needs http(s)/port correction
 - AVM cards are broken
 - confirm "Ringing()" behavior/usage on ISDN connections

 - extend callgroup support to add delays, sequential groups
 - rework incoming extension to support DID's

-----------------

new features
 - followme
 - add iax2 auth options
   - pubkey import

improvements
 - dialplan (still needs (de)select all)
 - improve module population in pbxdev
 - start returning get_blahs() functions by reference
 _ also, get_blahs() should return arrays with uniqid's as the keys
 - kernel and asterisk modules should only be loaded when needed
 - storage interface (add storage partition for extended capabilities)
 - extended capabilities hooks into the gui
 - new option to log to storage partition
 - privacy with voicemail forward

Docs:
 - presentation
 - website
 - user documentation

- get "advanced mode" working
- provider to provider access with pin code
- QoS options, such as jitterbuffer and packet types supported
- dialplan as a movable grid
- testing / performance mode


; --[ jitter buffer ]-------------------------------------------------------------
; All the jitter buffer settings are in milliseconds.
; The jitter buffer works for INCOMING audio - the outbound audio
; will be dejittered by the jitter buffer at the other end.
;
; maxjitterbuffer: a maximum size for the jitter buffer.
; Setting a reasonable maximum here will prevent the call delay
; from rising to silly values in extreme situations; you'll hear
; SOMETHING, even though it will be jittery.
;
; resyncthreshold: when the jitterbuffer notices a significant change in delay
; that continues over a few frames, it will resync, assuming that the change in
; delay was caused by a timestamping mix-up. The threshold for noticing a
; change in delay is measured as twice the measured jitter plus this resync
; threshold.
; Resyncing can be disabled by setting this parameter to -1.
;
; maxjitterinterps: the maximum number of interpolation frames the jitterbuffer
; should return in a row. Since some clients do not send CNG/DTX frames to
; indicate silence, the jitterbuffer will assume silence has begun after
; returning this many interpolations. This prevents interpolating throughout
; a long silence.
;

;maxjitterbuffer=1000
;maxjitterinterps=10
;resyncthreshold=1000



; --[ features ]-------------------------------------------------------------

[general]
;courtesytone = beep		; Sound file to play to the parked caller 
				; when someone dials a parked call
				; or the Touch Monitor is activated/deactivated.
;parkedplay = caller		; Who to play the courtesy tone to when picking up a parked call
				; one of: parked, caller, both  (default is caller)
;adsipark = yes			; if you want ADSI parking announcements
;findslot => next		; Continue to the 'next' free parking space. 
				; Defaults to 'first' available
;parkedmusicclass=default	; This is the MOH class to use for the parked channel
				; as long as the class is not set on the channel directly
				; using Set(CHANNEL(musicclass)=whatever) in the dialplan

;transferdigittimeout => 3	; Number of seconds to wait between digits when transferring a call
				; (default is 3 seconds)
;xfersound = beep		; to indicate an attended transfer is complete
;xferfailsound = beeperr	; to indicate a failed transfer
;pickupexten = *8		; Configure the pickup extension. (default is *8)


[featuremap]
;disconnect => *0		; Disconnect  (default is *)
;automon => *1			; One Touch Record a.k.a. Touch Monitor
;parkcall => #72                ; Park call (one step parking)










-------------------------------------------------------------------------
FXO Detection
-------------------------------------------------------------------------

wcfxo0@pci0:10:0:	class=0x078000 card=0x00038086 chip=0x0001e159 rev=0x00 hdr=0x00
    class    = simple comms

Zapata Telephony Interface Registered on major 196
Echo Canceller: MG2
ztdummy: loaded
ZapTel device: vendor=e159 device=1 subvendor=8086
wcfxo0: <Generic Clone> port 0xe400-0xe4ff mem 0xd8002000-0xd8002fff irq 5 at device 10.0 on pci0
ZapTel Attach for wcfxo0: deviceID : 0xe159
wcfxo0: [FAST]
wcfxo: DAA mode is 'FCC'
Found a Wildcard FXO: Generic Clone
ZapTel device loaded.
Registered tone zone 0 (United States / North America)

-----------------------------------------------------------------------

wcfxo0@pci0:9:0:	class=0x078000 card=0x00038086 chip=0x0001e159 rev=0x00 hdr=0x00
    class    = simple comms

Zapata Telephony Interface Registered on major 196
Echo Canceller: MG2
ztdummy: loaded
ZapTel device: vendor=e159 device=1 subvendor=8086
wcfxo0: <Generic Clone> port 0xdc00-0xdcff mem 0xeffff000-0xefffffff irq 10 at device 9.0 on pci0
ZapTel Attach for wcfxo0: deviceID : 0xe159
wcfxo0: [FAST]
wcfxo: DAA mode is 'FCC'
Found a Wildcard FXO: Generic Clone
ZapTel device loaded.
Registered tone zone 0 (United States / North America)

-----------------------------------------------------------------------

none1@pci0:11:0:	class=0x078000 card=0x200414f1 chip=0x2f0014f1 rev=0x01 hdr=0x00
    class    = simple comms

pci0: <simple comms> at device 11.0 (no driver attached)
Trying to mount root from ufs:/dev/md0
Zapata Telephony Interface Registered on major 196
Echo Canceller: MG2
ztdummy: loaded
Registered tone zone 0 (United States / North America)

-----------------------------------------------------------------------

wcfxo0@pci0:14:0:      class=0x078000 card=0x00011055 chip=0x56081057 rev=0x00 hdr=0x00
    class    = simple comms

Zapata Telephony Interface Registered on major 196
Echo Canceller: MG2
ztdummy: loaded
ZapTel device: vendor=1057 device=5608 subvendor=1055
wcfxo0: <Wildcard X100P> port 0x1800-0x18ff mem 0xfebfa000-0xfebfafff irq 10 at device 14.0 on pci0
ZapTel Attach for wcfxo0: deviceID : 0x1057
wcfxo0: [FAST]
wcfxo: DAA mode is 'FCC'
Found a Wildcard FXO: Wildcard X100P
ZapTel device loaded.
Registered tone zone 0 (United States / North America)

-----------------------------------------------------------------------

wcfxo0@pci0:20:0:       class=0x078000 card=0x00011055 chip=0x56081057 rev=0x00 hdr=0x00
   class    = simple comms

Zapata Telephony Interface Registered on major 196
Echo Canceller: MG2
ztdummy: loaded
ZapTel device: vendor=1057 device=5608 subvendor=1055
wcfxo0: <Wildcard X100P> port 0xc800-0xc8ff mem 0xe680c000-0xe680cfff irq 5 at device 20.0 on pci0
ZapTel Attach for wcfxo0: deviceID : 0x1057
wcfxo0: [FAST]
Failed to initailize DAA, giving up...
Freed a Wildcard
ZapTel detach!
We failed: 5
device_attach: wcfxo0 attach returned 5
ZapTel device: vendor=1057 device=5608 subvendor=1055
wcfxo0: <Wildcard X100P> port 0xc800-0xc8ff mem 0xe680c000-0xe680cfff irq 5 at device 20.0 on pci0
ZapTel Attach for wcfxo0: deviceID : 0x1057
wcfxo0: [FAST]
Failed to initailize DAA, giving up...
Freed a Wildcard
ZapTel detach!
We failed: 5
device_attach: wcfxo0 attach returned 5
ZapTel device: vendor=1057 device=5608 subvendor=1055
wcfxo0: <Wildcard X100P> port 0xc800-0xc8ff mem 0xe680c000-0xe680cfff irq 5 at device 20.0 on pci0
ZapTel Attach for wcfxo0: deviceID : 0x1057
wcfxo0: [FAST]
Failed to initailize DAA, giving up...
Freed a Wildcard
ZapTel detach!
We failed: 5
device_attach: wcfxo0 attach returned 5
ZapTel device: vendor=1057 device=5608 subvendor=1055
wcfxo0: <Wildcard X100P> port 0xc800-0xc8ff mem 0xe680c000-0xe680cfff irq 5 at device 20.0 on pci0
ZapTel Attach for wcfxo0: deviceID : 0x1057
wcfxo0: [FAST]
Failed to initailize DAA, giving up...
Freed a Wildcard
ZapTel detach!
We failed: 5
device_attach: wcfxo0 attach returned 5
Registered tone zone 0 (United States / North America)

-----------------------------------------------------------------------

none1@pci0:9:0: class=0x070300 card=0x1002134d chip=0x2189134d rev=0x04 hdr=0x00
   class    = simple comms
   subclass = generic modem

pci0: <simple comms, generic modem> at device 9.0 (no driver attached)
Zapata Telephony Interface Registered on major 196
Echo Canceller: MG2
ztdummy: loaded
Registered tone zone 0 (United States / North America)





-------------------------------------------------------------------------
Beginnings of Presence Info
-------------------------------------------------------------------------

*****After sip.conf - added limitonperr and notifyhold option to the general section and added call-limit and busy-limit to individual sip extensions.

[general]
context=default
allowoverlap=no
bindport=5060
bindaddr=0.0.0.0
srvlookup=yes
useragent=AskoziaPBX
relaxdtmf=yes
alwaysauthreject=yes
videosupport=yes
notifybusy=yes
limitonpeer=yes
notifyhold=no

externip=24.10.190.87
localnet=192.168.0.10/24

; "Murdocks" <8019673551>
[801]
type=friend
secret=1111
context=SIP-PHONE-174897559646b01891c109f
callerid=""Murdocks" <8019673551>" <801>
host=dynamic
nat=yes
language=en
qualify=yes
canreinvite=no
dtmfmode=rfc2833
disallow=all
allow=gsm
allow=ulaw
call-limit=2
busy-limit=1


; "Murdocks" <8019673551>
[802]
type=friend
secret=1111
context=SIP-PHONE-171148517846b018b979332
callerid=""Murdocks" <8019673551>" <802>
host=dynamic
nat=yes
language=en
qualify=yes
canreinvite=no
dtmfmode=rfc2833
disallow=all
allow=gsm
allow=ulaw
call-limit=2
busy-limit=1



**** Michael, if you add this to the internal context hints will work for
parking spots:

exten => 701,1,ParkedCall(701)
exten => 701,hint,park:701@parkedcalls

Of course you would add an entry for each parking spot.